import{S as ne,i as se,s as re,e as J,b as P,P as te,h as v,o as Ee,k as M,l as D,m as B,n as m,F as W,Z as Be,p as S,a as U,q as X,c as V,r as R,E as ve,L as g,u as ee,f as G,t as Y,x as oe,y as ie,z as ae,A as ue,_ as le,G as I,X as j,K as he,Y as Me,g as Te,d as Ce,R as de,$ as De,C as Le,a0 as Se,a1 as Ie,N as x,O as $,T as Pe}from"../../chunks/index-0689c3c5.js";import{L as Ae}from"../../chunks/Login-980ef05e.js";import{c as Ne,p as H}from"../../chunks/pocketbase-91d466f8.js";function be(r,e,t){const l=r.slice();return l[18]=e[t],l}function ge(r){let e,t={length:r[6]},l=[];for(let n=0;n<t.length;n+=1)l[n]=ke(be(r,t,n));return{c(){e=M("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var o=B(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(v),this.h()},h(){m(e,"class","confetti-holder svelte-io58ff"),W(e,"rounded",r[9]),W(e,"cone",r[10]),W(e,"no-gravity",r[11])},m(n,o){P(n,e,o);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,o){if(o&20991){t={length:n[6]};let s;for(s=0;s<t.length;s+=1){const i=be(n,t,s);l[s]?l[s].p(i,o):(l[s]=ke(i),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}o&512&&W(e,"rounded",n[9]),o&1024&&W(e,"cone",n[10]),o&2048&&W(e,"no-gravity",n[11])},d(n){n&&v(e),Be(l,n)}}}function ke(r){let e;return{c(){e=M("div"),this.h()},l(t){e=D(t,"DIV",{class:!0,style:!0}),B(e).forEach(v),this.h()},h(){m(e,"class","confetti svelte-io58ff"),S(e,"--fall-distance",r[8]),S(e,"--size",r[0]+"px"),S(e,"--color",r[14]()),S(e,"--skew",A(-45,45)+"deg,"+A(-45,45)+"deg"),S(e,"--rotation-xyz",A(-10,10)+", "+A(-10,10)+", "+A(-10,10)),S(e,"--rotation-deg",A(0,360)+"deg"),S(e,"--translate-y-multiplier",A(r[2][0],r[2][1])),S(e,"--translate-x-multiplier",A(r[1][0],r[1][1])),S(e,"--scale",.1*A(2,10)),S(e,"--transition-duration",r[4]?`calc(${r[3]}ms * var(--scale))`:`${r[3]}ms`),S(e,"--transition-delay",A(r[5][0],r[5][1])+"ms"),S(e,"--transition-iteration-count",r[4]?"infinite":r[7]),S(e,"--x-spread",1-r[12])},m(t,l){P(t,e,l)},p(t,l){l&256&&S(e,"--fall-distance",t[8]),l&1&&S(e,"--size",t[0]+"px"),l&4&&S(e,"--translate-y-multiplier",A(t[2][0],t[2][1])),l&2&&S(e,"--translate-x-multiplier",A(t[1][0],t[1][1])),l&24&&S(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&S(e,"--transition-delay",A(t[5][0],t[5][1])+"ms"),l&144&&S(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&S(e,"--x-spread",1-t[12])},d(t){t&&v(e)}}}function Ue(r){let e,t=!r[13]&&ge(r);return{c(){t&&t.c(),e=J()},l(l){t&&t.l(l),e=J()},m(l,n){t&&t.m(l,n),P(l,e,n)},p(l,[n]){l[13]?t&&(t.d(1),t=null):t?t.p(l,n):(t=ge(l),t.c(),t.m(e.parentNode,e))},i:te,o:te,d(l){t&&t.d(l),l&&v(e)}}}function A(r,e){return Math.random()*(e-r)+r}function Ve(r,e,t){let{size:l=10}=e,{x:n=[-.5,.5]}=e,{y:o=[.25,1]}=e,{duration:s=2e3}=e,{infinite:i=!1}=e,{delay:u=[0,50]}=e,{colorRange:f=[0,360]}=e,{colorArray:y=[]}=e,{amount:w=50}=e,{iterationCount:k=1}=e,{fallDistance:_="100px"}=e,{rounded:c=!1}=e,{cone:b=!1}=e,{noGravity:T=!1}=e,{xSpread:h=.15}=e,{destroyOnComplete:p=!0}=e,C=!1;Ee(()=>{!p||i||k=="infinite"||setTimeout(()=>t(13,C=!0),(s+u[1])*k)});function E(){return y.length?y[Math.round(Math.random()*(y.length-1))]:`hsl(${Math.round(A(f[0],f[1]))}, 75%, 50%`}return r.$$set=a=>{"size"in a&&t(0,l=a.size),"x"in a&&t(1,n=a.x),"y"in a&&t(2,o=a.y),"duration"in a&&t(3,s=a.duration),"infinite"in a&&t(4,i=a.infinite),"delay"in a&&t(5,u=a.delay),"colorRange"in a&&t(15,f=a.colorRange),"colorArray"in a&&t(16,y=a.colorArray),"amount"in a&&t(6,w=a.amount),"iterationCount"in a&&t(7,k=a.iterationCount),"fallDistance"in a&&t(8,_=a.fallDistance),"rounded"in a&&t(9,c=a.rounded),"cone"in a&&t(10,b=a.cone),"noGravity"in a&&t(11,T=a.noGravity),"xSpread"in a&&t(12,h=a.xSpread),"destroyOnComplete"in a&&t(17,p=a.destroyOnComplete)},[l,n,o,s,i,u,w,k,_,c,b,T,h,C,E,f,y,p]}class Oe extends ne{constructor(e){super(),se(this,e,Ve,Ue,re,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function ze(r){let e,t;return e=new Oe({props:{y:[-.5,.5],x:[-.5,.5]}}),{c(){oe(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Xe(r){let e,t,l,n;return{c(){e=M("button"),t=X("Stop")},l(o){e=D(o,"BUTTON",{});var s=B(e);t=R(s,"Stop"),s.forEach(v)},m(o,s){P(o,e,s),g(e,t),l||(n=I(e,"click",r[8]),l=!0)},p:te,d(o){o&&v(e),l=!1,n()}}}function Re(r){let e,t,l,n,o,s,i,u,f,y,w,k,_,c,b,T;return{c(){e=M("div"),t=M("label"),l=X("Timer Minutes:"),n=U(),o=M("input"),s=U(),i=M("div"),u=M("label"),f=X("Break Minutes:"),y=U(),w=M("input"),k=U(),_=M("button"),c=X("Start"),this.h()},l(h){e=D(h,"DIV",{class:!0});var p=B(e);t=D(p,"LABEL",{for:!0,class:!0});var C=B(t);l=R(C,"Timer Minutes:"),C.forEach(v),n=V(p),o=D(p,"INPUT",{type:!0,id:!0}),p.forEach(v),s=V(h),i=D(h,"DIV",{class:!0});var E=B(i);u=D(E,"LABEL",{for:!0,class:!0});var a=B(u);f=R(a,"Break Minutes:"),a.forEach(v),y=V(E),w=D(E,"INPUT",{type:!0,id:!0}),E.forEach(v),k=V(h),_=D(h,"BUTTON",{});var L=B(_);c=R(L,"Start"),L.forEach(v),this.h()},h(){m(t,"for","timer-minutes"),m(t,"class","svelte-9srfn6"),m(o,"type","number"),m(o,"id","timer-minutes"),m(e,"class","input-container svelte-9srfn6"),m(u,"for","break-minutes"),m(u,"class","svelte-9srfn6"),m(w,"type","number"),m(w,"id","break-minutes"),m(i,"class","input-container svelte-9srfn6")},m(h,p){P(h,e,p),g(e,t),g(t,l),g(e,n),g(e,o),j(o,r[1]),P(h,s,p),P(h,i,p),g(i,u),g(u,f),g(i,y),g(i,w),j(w,r[2]),P(h,k,p),P(h,_,p),g(_,c),b||(T=[I(o,"input",r[12]),I(o,"input",r[9]),I(w,"input",r[13]),I(w,"input",r[10]),I(_,"click",r[7])],b=!0)},p(h,p){p&2&&le(o.value)!==h[1]&&j(o,h[1]),p&4&&le(w.value)!==h[2]&&j(w,h[2])},d(h){h&&v(e),h&&v(s),h&&v(i),h&&v(k),h&&v(_),b=!1,he(T)}}}function Ge(r){let e,t=r[11]()===0,l,n,o,s=r[5]?"Break":"Work",i,u,f,y,w,k=(r[4]<10?`0${r[4]}`:r[4])+"",_,c,b,T,h=t&&ze();function p(a,L){return a[6]?Xe:Re}let C=p(r),E=C(r);return{c(){e=M("div"),h&&h.c(),l=U(),n=M("div"),o=M("p"),i=X(s),u=U(),f=M("p"),y=X(r[3]),w=X(":"),_=X(k),c=U(),E.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var L=B(e);h&&h.l(L),l=V(L),n=D(L,"DIV",{class:!0});var Z=B(n);o=D(Z,"P",{class:!0});var K=B(o);i=R(K,s),K.forEach(v),u=V(Z),f=D(Z,"P",{class:!0});var F=B(f);y=R(F,r[3]),w=R(F,":"),_=R(F,k),F.forEach(v),Z.forEach(v),c=V(L),E.l(L),L.forEach(v),this.h()},h(){m(o,"class","timer-label svelte-9srfn6"),m(f,"class","timer-time svelte-9srfn6"),m(n,"class","timer-container svelte-9srfn6"),m(e,"class",b=ve(r[0])+" svelte-9srfn6")},m(a,L){P(a,e,L),h&&h.m(e,null),g(e,l),g(e,n),g(n,o),g(o,i),g(n,u),g(n,f),g(f,y),g(f,w),g(f,_),g(e,c),E.m(e,null),T=!0},p(a,[L]){(!T||L&32)&&s!==(s=a[5]?"Break":"Work")&&ee(i,s),(!T||L&8)&&ee(y,a[3]),(!T||L&16)&&k!==(k=(a[4]<10?`0${a[4]}`:a[4])+"")&&ee(_,k),C===(C=p(a))&&E?E.p(a,L):(E.d(1),E=C(a),E&&(E.c(),E.m(e,null))),(!T||L&1&&b!==(b=ve(a[0])+" svelte-9srfn6"))&&m(e,"class",b)},i(a){T||(G(h),T=!0)},o(a){Y(h),T=!1},d(a){a&&v(e),h&&h.d(),E.d()}}}function Fe(r,e,t){let{className:l}=e,n=25,o=5,s=n,i=0,u=null,f=!1,y=null,w=!1;function k(){t(6,w=!0),y=Date.now(),u=window.setInterval(()=>{i===0?s===0?(f?(t(3,s=n),t(5,f=!1)):(t(3,s=o),t(5,f=!0)),t(4,i=59)):(t(3,s--,s),t(4,i=59)):t(4,i--,i)},1e3)}function _(){t(6,w=!1),u!=null&&clearInterval(u),t(3,s=n),t(4,i=0)}function c(C){const E=C.target;t(1,n=+E.value),t(3,s=n)}function b(C){const E=C.target;t(2,o=+E.value)}function T(){return y===null?0:(Date.now()-y)/1e3}function h(){n=le(this.value),t(1,n)}function p(){o=le(this.value),t(2,o)}return r.$$set=C=>{"className"in C&&t(0,l=C.className)},[l,n,o,s,i,f,w,k,_,c,b,T,h,p]}class Ye extends ne{constructor(e){super(),se(this,e,Fe,Ge,re,{className:0})}}function pe(r,e,t){const l=r.slice();return l[25]=e[t],l[26]=e,l[27]=t,l}function Ze(r){let e,t=[],l=new Map,n=r[2];const o=s=>s[25].id;for(let s=0;s<n.length;s+=1){let i=pe(r,n,s),u=o(i);l.set(u,t[s]=ye(u,i))}return{c(){e=M("div");for(let s=0;s<t.length;s+=1)t[s].c()},l(s){e=D(s,"DIV",{});var i=B(e);for(let u=0;u<t.length;u+=1)t[u].l(i);i.forEach(v)},m(s,i){P(s,e,i);for(let u=0;u<t.length;u+=1)t[u].m(e,null)},p(s,i){i&4068&&(n=s[2],t=Se(t,i,o,1,s,n,l,e,Ie,ye,null,pe))},d(s){s&&v(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function qe(r){let e,t;return{c(){e=M("span"),t=X("You haven't added any tasks yet")},l(l){e=D(l,"SPAN",{});var n=B(e);t=R(n,"You haven't added any tasks yet"),n.forEach(v)},m(l,n){P(l,e,n),g(e,t)},p:te,d(l){l&&v(e)}}}function ye(r,e){let t,l,n,o,s,i,u,f,y=e[25].text+"",w,k,_,c,b,T,h,p,C,E,a,L;function Z(){return e[12](e[25])}function K(){return e[13](e[25])}function F(){e[14].call(f,e[26],e[27])}function ce(){return e[16](e[25])}function fe(...d){return e[18](e[25],...d)}return{key:r,first:null,c(){t=M("div"),l=M("label"),n=M("input"),s=U(),i=M("span"),u=U(),f=M("span"),w=X(y),k=U(),_=M("button"),c=x("svg"),b=x("path"),T=U(),h=M("button"),p=x("svg"),C=x("path"),E=U(),this.h()},l(d){t=D(d,"DIV",{class:!0});var N=B(t);l=D(N,"LABEL",{class:!0});var O=B(l);n=D(O,"INPUT",{type:!0,class:!0}),s=V(O),i=D(O,"SPAN",{class:!0}),B(i).forEach(v),O.forEach(v),u=V(N),f=D(N,"SPAN",{class:!0,contenteditable:!0});var z=B(f);w=R(z,y),z.forEach(v),k=V(N),_=D(N,"BUTTON",{class:!0});var q=B(_);c=$(q,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var Q=B(c);b=$(Q,"path",{fill:!0,d:!0}),B(b).forEach(v),Q.forEach(v),q.forEach(v),T=V(N),h=D(N,"BUTTON",{class:!0});var _e=B(h);p=$(_e,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var me=B(p);C=$(me,"path",{fill:!0,d:!0}),B(C).forEach(v),me.forEach(v),_e.forEach(v),E=V(N),N.forEach(v),this.h()},h(){m(n,"type","checkbox"),n.checked=o=e[25].checked,m(n,"class","svelte-1b98llm"),m(i,"class","checkmark svelte-1b98llm"),m(l,"class","checkbox svelte-1b98llm"),m(f,"class","todo-text svelte-1b98llm"),m(f,"contenteditable","true"),e[25].text===void 0&&Pe(F),W(f,"checked",e[25].checked),m(b,"fill","currentColor"),m(b,"d","M12 20c4.4 0 8-3.6 8-8s-3.6-8-8-8s-8 3.6-8 8s3.6 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m5 9.5V13h-6V7h1.5v4.5H17Z"),m(c,"xmlns","http://www.w3.org/2000/svg"),m(c,"width","1em"),m(c,"height","1em"),m(c,"viewBox","0 0 24 24"),m(_,"class","icon-button pomodoro-button svelte-1b98llm"),m(C,"fill","currentColor"),m(C,"d","M3.64 2.27L7.5 6.13l3.84-3.84A.92.92 0 0 1 12 2a1 1 0 0 1 1 1a.9.9 0 0 1-.27.66L8.84 7.5l3.89 3.89A.9.9 0 0 1 13 12a1 1 0 0 1-1 1a.92.92 0 0 1-.69-.27L7.5 8.87l-3.85 3.85A.92.92 0 0 1 3 13a1 1 0 0 1-1-1a.9.9 0 0 1 .27-.66L6.16 7.5L2.27 3.61A.9.9 0 0 1 2 3a1 1 0 0 1 1-1c.24.003.47.1.64.27Z"),m(p,"xmlns","http://www.w3.org/2000/svg"),m(p,"width","1em"),m(p,"height","1em"),m(p,"viewBox","0 0 15 15"),m(h,"class","icon-button delete-button svelte-1b98llm"),m(t,"class","todo svelte-1b98llm"),this.first=t},m(d,N){P(d,t,N),g(t,l),g(l,n),g(l,s),g(l,i),g(t,u),g(t,f),g(f,w),e[25].text!==void 0&&(f.textContent=e[25].text),g(t,k),g(t,_),g(_,c),g(c,b),g(t,T),g(t,h),g(h,p),g(p,C),g(t,E),a||(L=[I(n,"change",Z),I(f,"blur",K),I(f,"input",F),I(_,"click",e[15]),I(h,"click",ce),I(t,"touchstart",e[17],{passive:!0}),I(t,"touchmove",fe,{passive:!0}),I(t,"touchend",e[19],{passive:!0})],a=!0)},p(d,N){e=d,N&4&&o!==(o=e[25].checked)&&(n.checked=o),N&4&&y!==(y=e[25].text+"")&&ee(w,y),N&4&&e[25].text!==f.textContent&&(f.textContent=e[25].text),N&4&&W(f,"checked",e[25].checked)},d(d){d&&v(t),a=!1,he(L)}}}function we(r){let e,t;return e=new Ye({props:{className:"pomodoro"}}),{c(){oe(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function We(r){let e,t,l,n,o,s,i,u,f;function y(c,b){return c[2].length===0?qe:Ze}let w=y(r),k=w(r),_=r[1]&&we();return{c(){e=M("div"),k.c(),t=U(),l=M("form"),n=M("input"),o=U(),_&&_.c(),s=J(),this.h()},l(c){e=D(c,"DIV",{class:!0});var b=B(e);k.l(b),t=V(b),l=D(b,"FORM",{class:!0});var T=B(l);n=D(T,"INPUT",{autocomplete:!0,placeholder:!0,type:!0,class:!0}),T.forEach(v),b.forEach(v),o=V(c),_&&_.l(c),s=J(),this.h()},h(){m(n,"autocomplete","off"),m(n,"placeholder","add task"),m(n,"type","text"),m(n,"class","svelte-1b98llm"),m(l,"class","svelte-1b98llm"),m(e,"class","todos svelte-1b98llm")},m(c,b){P(c,e,b),k.m(e,null),g(e,t),g(e,l),g(l,n),j(n,r[0]),P(c,o,b),_&&_.m(c,b),P(c,s,b),i=!0,u||(f=[I(n,"input",r[20]),I(n,"blur",r[4]),I(l,"submit",Me(r[4]))],u=!0)},p(c,[b]){w===(w=y(c))&&k?k.p(c,b):(k.d(1),k=w(c),k&&(k.c(),k.m(e,t))),b&1&&n.value!==c[0]&&j(n,c[0]),c[1]?_?b&2&&G(_,1):(_=we(),_.c(),G(_,1),_.m(s.parentNode,s)):_&&(Te(),Y(_,1,1,()=>{_=null}),Ce())},i(c){i||(G(_),i=!0)},o(c){Y(_),i=!1},d(c){c&&v(e),k.d(),c&&v(o),_&&_.d(c),c&&v(s),u=!1,he(f)}}}function He(r,e,t){let l,n;de(r,Ne,d=>t(24,l=d));let o,s=Le([]);de(r,s,d=>t(2,n=d));let i;Ee(async()=>{const[d,N]=await Promise.all([H.collection("todos").getList(1,50,{sort:"created"}),H.collection("todos").subscribe("*",async({action:O,record:z})=>{if(O==="create"&&s.update(q=>[...q,z]),O==="delete"&&s.update(q=>q.filter(Q=>Q.id!==z.id)),O==="update"){const q=await H.collection("todos").getList(1,50,{sort:"created"});s.set(q.items)}})]);s.set(d.items),i=N}),De(()=>{i==null||i()});async function u(){if(!o)return;const d={text:o,checked:!1,user:l?l.id:""};await H.collection("todos").create(d),t(0,o="")}async function f(d){await H.collection("todos").delete(d.id)}async function y(d){console.log(d.text),await H.collection("todos").update(d.id,{text:d.text})}async function w(d){const N={...d,checked:!d.checked};s.update(O=>O.map(z=>z.id===d.id?N:z)),await H.collection("todos").update(d.id,{checked:!d.checked})}let k=!1;function _(){t(1,k=!k)}let c=null,b=0;function T(d){c=d.touches[0].clientX}function h(d,N){if(c!==null)if(b=d.touches[0].clientX-c,b<-150)f(N),b=0,c=null;else{const z=b<0?b:0;d.currentTarget.style.transform=`translateX(${z}px)`}}function p(d){d.currentTarget.style.transform="",b=0,c=null}const C=d=>w(d),E=d=>y(d);function a(d,N){d[N].text=this.textContent,s.set(n)}const L=()=>_(),Z=d=>f(d),K=d=>T(d),F=(d,N)=>h(N,d),ce=d=>p(d);function fe(){o=this.value,t(0,o)}return[o,k,n,s,u,f,y,w,_,T,h,p,C,E,a,L,Z,K,F,ce,fe]}class Ke extends ne{constructor(e){super(),se(this,e,He,We,re,{})}}function je(r){let e,t;return e=new Ae({}),{c(){oe(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Je(r){let e,t;return e=new Ke({}),{c(){oe(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Qe(r){let e,t,l,n;const o=[Je,je],s=[];function i(u,f){return u[0]?0:1}return e=i(r),t=s[e]=o[e](r),{c(){t.c(),l=J()},l(u){t.l(u),l=J()},m(u,f){s[e].m(u,f),P(u,l,f),n=!0},p(u,[f]){let y=e;e=i(u),e!==y&&(Te(),Y(s[y],1,1,()=>{s[y]=null}),Ce(),t=s[e],t||(t=s[e]=o[e](u),t.c()),G(t,1),t.m(l.parentNode,l))},i(u){n||(G(t),n=!0)},o(u){Y(t),n=!1},d(u){s[e].d(u),u&&v(l)}}}function xe(r,e,t){let l;return de(r,Ne,n=>t(0,l=n)),[l]}class lt extends ne{constructor(e){super(),se(this,e,xe,Qe,re,{})}}export{lt as default};
